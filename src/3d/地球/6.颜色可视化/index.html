<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>6.颜色可视化</title>
    <style>
      body {
        margin: 0;
        overflow: hidden;
      }
    </style>
  </head>

  <body>
    <script type="module">
      // 引入Three.js
      import * as THREE from "../../libs/three.js-r123/build/three.module.js";
      import { scene, renderer, camera } from "./scene.js";
      import { earth } from "./earth.js";
      //Three.js渲染结果Canvas画布插入到body元素中
      document.body.appendChild(renderer.domElement);
      import { chooseCountry, chooseMesh } from "./chooseCountry.js"; //射线拾取国家Mesh
      import { labelRenderer } from "./tag.js"; //HTML标签相关代码
      // addEventListener('click', chooseCountry); // 监听窗口鼠标单击事件,鼠标单击选中某个国家Mesh
      addEventListener("mousemove", chooseCountry);
      // 渲染循环
      function render() {
        if (!chooseMesh) earth.rotateY(0.005); // 如果有国家选中停止旋转
        labelRenderer.render(scene, camera); //渲染HTML标签对象
        renderer.render(scene, camera); //执行渲染操作
        requestAnimationFrame(render); //请求再次执行渲染函数render，渲染下一帧
        // console.log(camera.position);
      }
      render();
    </script>
  </body>
</html>
